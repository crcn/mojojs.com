<!DOCTYPE html> <html lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"><link rel="stylesheet" href="../../vendor/rainbow/themes/tomorrow-1445565198814.css"><script type="text/javascript" src="../../app/index.built-1445565198814.js"></script> <script type="text/javascript" src="../../vendor/js/mojo-1445565198814.js"></script> <link rel="stylesheet" href="../../css/app-1445565198814.css"><title>Mojo.js - Build beautifully crafted, and powerful applications</title> <meta property="og:image" content="http://wwww.mojojs.com/img/square-logo.png"><meta name="Description" content="A non-opinionated, customizable JavaScript framework designed for writing scalable web, mobile, and server-side programs."></head> <body><div class="header fixed"><div class="container blurb"><div class="row navbar"><div class="col-sm-6"><a href="../../index.html"><img id="logo" src="../../img/mojo-js-transparent-1445565198814.png"></a></div> <div class="navlinks col-sm-6 text-right"><a href="../api.html">Documentation</a> <a href="../guides.html">Guides</a> <!--a href="/plugins">Plugins</a--><a href="../getting-started/installation.html">Download</a> <!--a href="/blog">Blog</a--><a href="http://github.com/mojo-js/mojo.js">Github</a> <!--a href="https://groups.google.com/forum/#!forum/mojojs">Community</a--></div></div> </div></div> <div class="container docs"><div class="row"><div class="col-sm-3 sidebar no-padding"><div class="sidebar-inner"><!--div class="searchbar">
      <input type="text" placeholder="Search Docs..." class="form-control" data-bind="{{ model: <~>searchQuery, onEnter: search() }}" />
    </div--><!--- Installation
    - Tutorials
    - Videos
    - API
      - mojo-application
      - mojo-views
      - mojo-models
      - mojo-router
      - bindable


    --><div class="options"><span class="headliner"><a data-href="docCategory" href="../getting-started.html">getting started</a></span> <ul><li><a data-href="docArticle" href="../getting-started/what-is-mojo.html">What is Mojo?</a> </li><li><a data-href="docArticle" href="../getting-started/what-makes-mojo-different.html">What makes Mojo different?</a> <ul class="properties"><li><a href="../getting-started/what-makes-mojo-different.html#propertyscope">Property scope</a></li><li><a href="../getting-started/what-makes-mojo-different.html#compiledtemplates">Compiled templates</a></li><li><a href="../getting-started/what-makes-mojo-different.html#virtualproperties">Virtual properties</a></li><li><a href="../getting-started/what-makes-mojo-different.html#explicit">Explicit</a></li><li><a href="../getting-started/what-makes-mojo-different.html#flexible">Flexible</a></li></ul></li><li><a data-href="docArticle" href="../getting-started/about-these-docs.html">About these docs</a> </li><li><a data-href="docArticle" href="../getting-started/installation.html">Installation</a> <ul class="properties"><li><a href="../getting-started/installation.html#npminstall">npm install</a></li><li><a href="../getting-started/installation.html#npmstart">npm start</a></li><li><a href="../getting-started/installation.html#npmrunbuild">npm run build</a></li><li><a href="../getting-started/installation.html#npmrunhotswap">npm run hotswap</a></li><li><a href="../getting-started/installation.html#maketest">make test</a></li><li><a href="../getting-started/installation.html#maketestwatch">make test-watch</a></li></ul></li><li><a data-href="docArticle" href="../getting-started/examples.html">Examples</a> </li></ul></div> <hr><div class="options"><span class="headliner"><a data-href="docCategory" href="../guides.html">guides</a></span> <ul><li><a data-href="docArticle" href="architecture.html">Architecture</a> <ul class="properties"><li><a href="architecture.html#whatismv">What is MV*?</a></li><li><a href="architecture.html#frameworklayers">Framework Layers</a></li><li><a href="architecture.html#planning">Planning</a></li></ul></li><li><a data-href="docArticle" href="structuring-your-application.html">Structuring your application</a> <ul class="properties"><li><a href="structuring-your-application.html#models">models</a></li><li><a href="structuring-your-application.html#views">views</a></li><li><a href="structuring-your-application.html#httprouter">HTTP router</a></li><li><a href="structuring-your-application.html#unittests">unit tests</a></li></ul></li></ul></div> <hr><div class="options"><span class="headliner"><a data-href="docCategory" href="../api.html">api</a></span> <ul><li><a data-href="docArticle" href="../api/mojo.html">mojo</a> <ul class="properties"><li><a href="../api/mojo.html#application">application</a></li><li><a href="../api/mojo.html#applicationviews">application.views</a></li><li><a href="../api/mojo.html#applicationpaperclip">application.paperclip</a></li><li><a href="../api/mojo.html#applicationmodels">application.models</a></li><li><a href="../api/mojo.html#models">models</a></li><li><a href="../api/mojo.html#views">views</a></li></ul></li><li><a data-href="docArticle" href="../api/application.html">Application</a> <ul class="properties"><li><a href="../api/application.html#applicationproperties">Application ( )</a></li><li><a href="../api/application.html#applicationmain">Application.main</a></li><li><a href="../api/application.html#plugins">plugins</a></li><li><a href="../api/application.html#nodefactory">nodeFactory</a></li><li><a href="../api/application.html#useplugins">use ( )</a></li><li><a href="../api/application.html#initialize">initialize ( )</a></li><li><a href="../api/application.html#overridewillinitialize">override willInitialize ( )</a></li><li><a href="../api/application.html#overridedidinitialize">override didInitialize ( )</a></li><li><a href="../api/application.html#events">Events</a></li><li><a href="../api/application.html#views">views</a></li><li><a href="../api/application.html#viewsregisterclassesorclassnameclass">views.register ( )</a></li><li><a href="../api/application.html#viewscreateclassnameproperties">views.create ( )</a></li><li><a href="../api/application.html#viewsdecoratordecorator">views.decorator ( )</a></li><li><a href="../api/application.html#models">models</a></li><li><a href="../api/application.html#modelsregisterclassesorclassnameclass">models.register ( )</a></li><li><a href="../api/application.html#modelscreateclassnameproperties">models.create ( )</a></li><li><a href="../api/application.html#modelsdecoratedecorator">models.decorate ( )</a></li><li><a href="../api/application.html#animateanimatable">animate ( )</a></li><li><a href="../api/application.html#router">router</a></li><li><a href="../api/application.html#paperclip">paperclip</a></li></ul></li><li><a data-href="docArticle" href="../api/viewsbase.html">views.Base</a> <ul class="properties"><li><a href="../api/viewsbase.html#basepropertiesapplication">Base ( )</a></li><li><a href="../api/viewsbase.html#section">section</a></li><li><a href="../api/viewsbase.html#applicationapplication">Application application</a></li><li><a href="../api/viewsbase.html#booleanvisible">Boolean visible</a></li><li><a href="../api/viewsbase.html#documentfragmentrender">DocumentFragment render ( )</a></li><li><a href="../api/viewsbase.html#overridedidcreatesection">override didCreateSection ( )</a></li><li><a href="../api/viewsbase.html#overridewillrender">override willRender ( )</a></li><li><a href="../api/viewsbase.html#overridedidrender">override didRender ( )</a></li><li><a href="../api/viewsbase.html#remove">remove ( )</a></li><li><a href="../api/viewsbase.html#overridewillremove">override willRemove ( )</a></li><li><a href="../api/viewsbase.html#overridedidremove">override didRemove ( )</a></li><li><a href="../api/viewsbase.html#events">Events</a></li><li><a href="../api/viewsbase.html#paper">paper</a></li><li><a href="../api/viewsbase.html#bindings">bindings</a></li><li><a href="../api/viewsbase.html#children">children</a></li></ul></li><li><a data-href="docArticle" href="../api/viewsstack.html">views.Stack</a> <ul class="properties"><li><a href="../api/viewsstack.html#state">state</a></li><li><a href="../api/viewsstack.html#states">states</a></li></ul></li><li><a data-href="docArticle" href="../api/viewslist.html">views.List</a> <ul class="properties"><li><a href="../api/viewslist.html#source">source</a></li><li><a href="../api/viewslist.html#modelviewclass">modelViewClass</a></li><li><a href="../api/viewslist.html#sortmodelamodelb">sort ( )</a></li><li><a href="../api/viewslist.html#filtermodel">filter ( )</a></li></ul></li><li><a data-href="docArticle" href="../api/templates.html">templates</a> <ul class="properties"><li><a href="../api/templates.html#123123blocks125125">{{ blocks }}</a></li><li><a href="../api/templates.html#123123htmlcontent125125">{{ html: content }}</a></li><li><a href="../api/templates.html#123123ifcondition125125">{{ #if: condition }}</a></li><li><a href="../api/templates.html#123123modelcontext125125">{{ model: context }}</a></li><li><a href="../api/templates.html#123123eventexpression125125">{{ event: expression }}</a></li><li><a href="../api/templates.html#123123showbool125125">{{ show: bool }}</a></li><li><a href="../api/templates.html#123123cssstyles125125">{{ css: styles }}</a></li><li><a href="../api/templates.html#123123stylestyles125125">{{ style: styles }}</a></li><li><a href="../api/templates.html#123123disablebool125125">{{ disable: bool }}</a></li><li><a href="../api/templates.html#123123focusbool125125">{{ focus: bool }}</a></li><li><a href="../api/templates.html#paperclipapplication">paperclip ( )</a></li><li><a href="../api/templates.html#paperclipmodifiermodifiernamemodifier">paperclip.modifier ( )</a></li><li><a href="../api/templates.html#templatepapercliptemplatesource">template paperclip.template ( )</a></li><li><a href="../api/templates.html#templatebindcontextrender">template.bind ( ).render ( )</a></li></ul></li><li><a data-href="docArticle" href="../api/modelsbase.html">models.Base</a> <ul class="properties"><li><a href="../api/modelsbase.html#basepropertiesapplication">Base ( )</a></li><li><a href="../api/modelsbase.html#data">data</a></li><li><a href="../api/modelsbase.html#deserializedata">deserialize ( )</a></li><li><a href="../api/modelsbase.html#baseserialize">base.serialize ( )</a></li><li><a href="../api/modelsbase.html#persist">persist</a></li><li><a href="../api/modelsbase.html#modelloadonload">model.load ( )</a></li><li><a href="../api/modelsbase.html#modelreloadonreload">model.reload ( )</a></li><li><a href="../api/modelsbase.html#modelsaveonsave">model.save ( )</a></li><li><a href="../api/modelsbase.html#modelremoveonremove">model.remove ( )</a></li><li><a href="../api/modelsbase.html#persistevents">Persist events</a></li><li><a href="../api/modelsbase.html#virtuals">virtuals</a></li><li><a href="../api/modelsbase.html#bindings">bindings</a></li></ul></li><li><a data-href="docArticle" href="../api/modelscollection.html">models.Collection</a> <ul class="properties"><li><a href="../api/modelscollection.html#collectionpropertiesapplication">Collection ( )</a></li><li><a href="../api/modelscollection.html#data">data</a></li><li><a href="../api/modelscollection.html#modelcreatemodeloptions">model createModel ( )</a></li><li><a href="../api/modelscollection.html#idproperty">idProperty</a></li><li><a href="../api/modelscollection.html#modelcreateproperties">model create ( )</a></li><li><a href="../api/modelscollection.html#deserializedata">deserialize ( )</a></li><li><a href="../api/modelscollection.html#serialize">serialize ( )</a></li></ul></li><li><a data-href="docArticle" href="../api/router.html">router</a> <ul class="properties"><li><a href="../api/router.html#routeenter">route.enter</a></li><li><a href="../api/router.html#routename">route.name</a></li><li><a href="../api/router.html#routestates">route.states</a></li><li><a href="../api/router.html#routeparameters">route parameters</a></li><li><a href="../api/router.html#nestedroutes">nested routes</a></li><li><a href="../api/router.html#routerredirectpathnameorroutenameoptionscomplete">router.redirect ( )</a></li><li><a href="../api/router.html#routeraddroutes">router.add ( )</a></li><li><a href="../api/router.html#routerlocation">router.location</a></li><li><a href="../api/router.html#locationquery">location.query</a></li><li><a href="../api/router.html#locationparams">location.params</a></li><li><a href="../api/router.html#locationurl">location.url</a></li><li><a href="../api/router.html#locationpathname">location.pathname</a></li><li><a href="../api/router.html#locationredirectpathnameoptions">location.redirect ( )</a></li></ul></li><li><a data-href="docArticle" href="../api/bindableobject.html">bindable.Object</a> <ul class="properties"><li><a href="../api/bindableobject.html#objectproperties">Object ( )</a></li><li><a href="../api/bindableobject.html#valuegetproperty">value get ( )</a></li><li><a href="../api/bindableobject.html#setpropertyvalue">set ( )</a></li><li><a href="../api/bindableobject.html#setpropertiesproperties">setProperties ( )</a></li><li><a href="../api/bindableobject.html#hasproperty">has ( )</a></li><li><a href="../api/bindableobject.html#listeneroneventcallback">listener on ( )</a></li><li><a href="../api/bindableobject.html#emiteventargs">emit ( )</a></li><li><a href="../api/bindableobject.html#onceeventcallback">once ( )</a></li><li><a href="../api/bindableobject.html#removealllistenerstype">removeAllListeners ( )</a></li><li><a href="../api/bindableobject.html#bindingbindfromoptions">binding bind ( )</a></li><li><a href="../api/bindableobject.html#bindingnow">binding.now ( )</a></li><li><a href="../api/bindableobject.html#bindingdispose">binding.dispose ( )</a></li><li><a href="../api/bindableobject.html#events">Events</a></li></ul></li><li><a data-href="docArticle" href="../api/bindablecollection.html">bindable.Collection</a> <ul class="properties"><li><a href="../api/bindablecollection.html#collectionsource">Collection ( )</a></li><li><a href="../api/bindablecollection.html#source">source</a></li><li><a href="../api/bindablecollection.html#resetsource">reset ( )</a></li><li><a href="../api/bindablecollection.html#indexofitem">indexOf ( )</a></li><li><a href="../api/bindablecollection.html#valueatindex">value at ( )</a></li><li><a href="../api/bindablecollection.html#eachfn">each ( )</a></li><li><a href="../api/bindablecollection.html#pushvalues">push ( )</a></li><li><a href="../api/bindablecollection.html#unshiftvalues">unshift ( )</a></li><li><a href="../api/bindablecollection.html#spliceindexcountnewvalues">splice ( )</a></li><li><a href="../api/bindablecollection.html#valuepop">value pop ( )</a></li><li><a href="../api/bindablecollection.html#valueshift">value shift ( )</a></li><li><a href="../api/bindablecollection.html#events">Events</a></li></ul></li><li><a data-href="docArticle" href="../api/mojo-cli.html">mojo-cli</a> </li></ul></div> <hr><div class="options"><span class="headliner"><a data-href="docCategory" href="../extended-api.html">extended api</a></span> <ul><li><a data-href="docArticle" href="../extended-api/i18n.html">i18n</a> <ul class="properties"><li><a href="../extended-api/i18n.html#i18ntranslations">i18n.translations</a></li><li><a href="../extended-api/i18n.html#i18nlocale">i18n.locale</a></li><li><a href="../extended-api/i18n.html#tparamsalternativetext">t ( )</a></li></ul></li></ul></div> <hr><div class="options"><span class="headliner"><a data-href="docCategory" href="../core-api.html">core api</a></span> <ul><li><a data-href="docArticle" href="../core-api/paperclipbaseblockbinding.html">paperclip.BaseBlockBinding</a> <ul class="properties"><li><a href="../core-api/paperclipbaseblockbinding.html#paperclipblockbindingnameblockbindingclass">paperclip.blockBinding ( )</a></li><li><a href="../core-api/paperclipbaseblockbinding.html#baseblockbindingoptions">BaseBlockBinding ( )</a></li><li><a href="../core-api/paperclipbaseblockbinding.html#overridebindcontext">override bind ( )</a></li><li><a href="../core-api/paperclipbaseblockbinding.html#overrideunbind">override unbind ( )</a></li><li><a href="../core-api/paperclipbaseblockbinding.html#overrideonchangecontext">override _onChange ( )</a></li><li><a href="../core-api/paperclipbaseblockbinding.html#nodefactory">nodeFactory</a></li><li><a href="../core-api/paperclipbaseblockbinding.html#application">application</a></li><li><a href="../core-api/paperclipbaseblockbinding.html#clip">clip</a></li><li><a href="../core-api/paperclipbaseblockbinding.html#scriptname">scriptName</a></li><li><a href="../core-api/paperclipbaseblockbinding.html#section">section</a></li><li><a href="../core-api/paperclipbaseblockbinding.html#contenttemplate">contentTemplate</a></li><li><a href="../core-api/paperclipbaseblockbinding.html#childblocktemplate">childBlockTemplate</a></li></ul></li><li><a data-href="docArticle" href="../core-api/paperclipbaseattrdatabinding.html">paperclip.BaseAttrDataBinding</a> <ul class="properties"><li><a href="../core-api/paperclipbaseattrdatabinding.html#paperclipattrdatabindingnameattrdatabindingclass">paperclip.attrDataBinding ( )</a></li><li><a href="../core-api/paperclipbaseattrdatabinding.html#baseattrdatabindingoptions">BaseAttrDataBinding ( )</a></li><li><a href="../core-api/paperclipbaseattrdatabinding.html#node">node</a></li><li><a href="../core-api/paperclipbaseattrdatabinding.html#clip">clip</a></li><li><a href="../core-api/paperclipbaseattrdatabinding.html#application">application</a></li><li><a href="../core-api/paperclipbaseattrdatabinding.html#scriptname">scriptName</a></li><li><a href="../core-api/paperclipbaseattrdatabinding.html#script">script</a></li></ul></li><li><a data-href="docArticle" href="../core-api/paperclipbaseattrbinding.html">paperclip.BaseAttrBinding</a> <ul class="properties"><li><a href="../core-api/paperclipbaseattrbinding.html#paperclipnodebindingnamenodebindingclass">paperclip.nodeBinding ( )</a></li><li><a href="../core-api/paperclipbaseattrbinding.html#baseattrbindingoptions">BaseAttrBinding ( )</a></li><li><a href="../core-api/paperclipbaseattrbinding.html#overrideonchangetext">override _onChange ( )</a></li><li><a href="../core-api/paperclipbaseattrbinding.html#node">node</a></li></ul></li></ul></div> <hr> <div class="sidebar-inner-footer"></div></div></div> <div class="col-sm-9 docs-content"><div class="docs-inner-content"><hr><div class="docs-article-header"><a class="improve-docs-link" href="http://github.com/mojo-js/mojojs.com/tree/master/content/docs/1%20Guides/1%20Structuring%20your%20application.article.md"><i class="ion-edit"></i></a> <h2 class="article-title"><i class="ion-document-text"></i> Structuring your application</h2></div> <hr><div class="docs-article"><p></p> <p>See Also <a href="https://github.com/mojo-js/mojo-todomvc-example">https://github.com/mojo-js/mojo-todomvc-example</a></p> <h4 class="doc-headline" id="models"><a href="structuring-your-application.html#models" class="link"><span class="glyphicon glyphicon-link"></span></a>models</h4><p><a href="../api/modelsbase.html">Models</a> consist of items, and collections, and should be structured based on their relationship to one another. Collections are also considered models since they might also contain logic specific to the items it contains. A <code>Messages</code> collection for instance might have a <code>markAllRead</code> method.</p> <p>It's easier to store models & collections in the same <code>models/</code> directory without any hierarchy, since it's common for models to share relationships between each other. </p> <p>Here's an example of how you might structure your models directory:</p> <p><pre><code>application/
  index.js - The application class
  models/
    user.js - uses friends collection
    messages.js
    message.js
    tags.js
    tag.js
    room.js
    rooms.js
    friends.js - uses user model
</code></pre></p> <h4 class="doc-headline" id="views"><a href="structuring-your-application.html#views" class="link"><span class="glyphicon glyphicon-link"></span></a>views</h4><p>Structuring your <a href="../api/viewsbase.html">views</a> is a pretty straight forward process. The easiest way to start is by separating your mock-ups into smaller components. For example:</p> <p><img src="../planning-1445565198814.png"></p> <p>From there, we have a mental model of how are application should be structured. Here's what our folder structure might look like if we follow the diagram above, and build our application:</p> <p><pre><code>application/
  index.js - the application class which ties everything together
  models/ - your models
  views/ - your views
    main/
      index.js - main controller
      index.pc
      sidebar/
        index.js
        index.pc
        avatar.js
        avatar.pc
        schools.js
        schools.pc
        tips.js
        tips.pc
      classTiles/
        classTile.js
        classTile.pc
        index.js
      addClassButton.js
      addClassButton.pc
      archiveButton.js
      archiveButton.pc
</code></pre></p> <p>This sort of structure is easy to follow at a top-level glance, and we can easily figure out what the purpose of each file is just by <em>looking</em> at the folder structure.</p> <p>Notice the <code>pc</code> files - these are the templates that get displayed to the user. The <code>js</code> file is the view controller - it contains all the logic for the template, and handles any sort of user interaction. </p> <!--TODO - explain index.js
--><!--> Keep in mind that it's totally fine to build out an application without an HTTP router - that can be added last without affecting your application structure.
--><h4 class="doc-headline" id="httprouter"><a href="structuring-your-application.html#httprouter" class="link"><span class="glyphicon glyphicon-link"></span></a>HTTP router</h4><p>the <a href="../api/router.html">HTTP router</a> is a module that can be added at any time during the development process, since the HTTP router generally handles the application states at the root view. Those states get propagated, and used by <code>stack views</code> throughout the entire application. </p> <!--TODO - show how to structure this stuff
--><h4 class="doc-headline" id="unittests"><a href="structuring-your-application.html#unittests" class="link"><span class="glyphicon glyphicon-link"></span></a>unit tests</h4><p>It's easier to keep tests alongside the file you're testing. For example:</p> <p><pre><code>application/
  index.js - The application class
  models/
    user.js - uses friends collection
    user-test.js
    messages.js
    messages-test.js
    message.js
    message-test.js
    ...
  views/
    main/
      index.js
      index-test.js
      sidebar/
        index.js
        index-test.js
    ...
</code></pre></p> <p>This convention does a few things:</p> <ol><li>It allows you to see at a glance what files are, and aren't tested.</li> <li>It ensures that your application is broken out into smaller units.</li> <li>It's easier, and much faster writing unit tests.</li> <li>It's an easy pattern to follow.</li> <li>Doesn't break if you need to source files around.</li></ol> <p>Here's a short example of a <code>messages</code> model unit test:</p> <p><pre><code class="lang-javascript">var Messages = require(&quot;./messages&quot;),
expect       = require(&quot;expect.js&quot;);

describe(__filename + &quot;#&quot;, function () {
  var messages;

  beforeEach(function () {
    messages = new Message({
      data: [
        { message: &quot;Hello World&quot;, read: false },
        { message: &quot;What&#39;s up?&quot;, read: true },
        { message: &quot;My favorite color is blue&quot;, read: false }
      ]
    });
  });

  it(&quot;can mark all items read&quot;, function () {
    expect(messages.filter(function (message) {
      return !message.read;
    }).length).to.be(2);

    messages.markAllRead();

    expect(messages.filter(function (message) {
      return !message.read;
    }).length).to.be(0);
  });
});
</code></pre>
</p> <!--TODO

#### components

#### tests

--><!--#### models


#### HTTP Router


The HTTP router can be added at any part during 
--></div></div></div></div></div> </body> <script type="text/javascript" src="../../vendor/js/rainbow-custom.min-1445565198814.js"></script></html>